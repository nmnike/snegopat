<html><head>
                <link rel="stylesheet" href="../www/md.css" type="text/css"/>
                <title>Метод globalContext</title></head><body><h3 id="метод-globalcontext">Метод globalContext</h3><a name="метод-globalcontext"></a>
<blockquote>
<p>Портирован полностью</p>
</blockquote>
<p>Позволяет получить доступ к конкретному глобальному контексту.<br>Синтаксис:</p>
<pre><code>var gc = globalContext(ГУИДконтекста)
</code></pre><p>Параметры:</p>
<ul>
<li>ГУИДконтекста. Обязательный. Строка. Содержит guid, задающий глобальный контекст,
который желаем получить.</li>
</ul>
<p>Возвращает объект, чьи методы и свойства представляют часть глобального контекста 1С.</p>
<p>Если открыть синтакс-помощник и в нем раздел &quot;Глобальный контекст&quot; (и &quot;Системные перечисления&quot;) - мы увидим целую кучу
разнообразных функций и свойств, типа <code>Сообщить</code>, <code>Вопрос</code>, <code>КодВозвратаДиалога</code> и т.п.</p>
<p>На самом деле в движке 1С нет глобальный функций и свойств. Есть специальные типы объектов, которые
создаются при запуске 1С в режиме предприятия в единственном экземпляре, чьи методы и свойства становятся
доступными глобально. То есть например, встретив <code>Сообщить</code>, 1С будет перебирать все такие созданные объекты,
пока не найдет тот, в котором есть такой метод, и вызовет его. Метод <em>globalContext</em> пытается создает объект, чей
guid передали и вернуть ссылку на него.</p>
<p>Откуда брать эти guid&#39;ы и кто за что отвечает? Надо просто посмотреть файл <code>core\std\scripts\0_global_context.js</code>.
Там перечислены guid&#39;ы всех таких объектов, их методы и свойства, а также dll, в которых
они реализованы. Проверить сразу все из них на возможность работы в Конфигураторе нереально, поэтому
по мере сил и нужд проверяются отдельные из них, что и отражается в этом скрипте.</p>
<p>Поэтому сейчас обычно скриптописатели не используют этот метод сам по себе, а подключают все проверенные
глобальные контексты разом. Для этого в начале скрипта пишут:</p>
<pre><code>$addin global
...
global.connectGlobals(SelfScript)
</code></pre><p>Здесь происходит сразу получение всех проверенных глобальных объектов 1С и подключение их к глобальному
пространству имен скрипта, т.е. после этих строк вполне можно писать как в самой 1С <code>Сообщить</code>, <code>Вопрос</code>,
<code>ЗначениеВСтрокуВнутр</code> и т.п.</p>
</body>